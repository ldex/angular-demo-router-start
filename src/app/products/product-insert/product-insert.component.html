<h2>New Product</h2>
<form [formGroup]="insertForm"
  (ngSubmit)="onSubmit()">
  <label for="name">Name:</label>
  <input
    id="name"
    type="text"
    formControlName="name">
    @if (name.touched && name.errors) {
      <div class="errorMessage">
        @if (name.errors.required) {
          <span>Name is required</span>
        }
      </div>
    }
    <br />

    <label for="price">Price:</label>
    <input
      id="price"
      type="number"
      step="0.01"
      formControlName="price">
      @if (price.touched && price.errors) {
        <div class="errorMessage">
          @if (price.errors.required) {
            <span>Price is required</span>
          }
        </div>
      }
      <br />

      <label for="description">Description:</label>
      <textarea
        id="description"
        formControlName="description">
      </textarea>
      @if (description.touched && description.errors) {
        <div class="errorMessage">
          @if (description.errors.required) {
            <span>Description is required</span>
          }
          @if (description.errors.minlength) {
            <span>Min 3 chars</span>
          }
          @if (description.errors.maxlength) {
            <span>Max 50 chars</span>
          }
        </div>
      }
      <br />

      <label for="imageUrl">Image path:</label>
      <input
        id="imageUrl"
        type="text"
        formControlName="imageUrl">
        <br />

        <label for="discontinued">Discontinued?</label>
        <input
          id="discontinued"
          type="checkbox"
          formControlName="discontinued">
          <br />

          <label for="fixedPrice">Fixed price?</label>
          <input
            id="fixedPrice"
            type="checkbox"
            formControlName="fixedPrice">
            <br />

            <button type="submit"
            [disabled]="insertForm.invalid">Save</button>
          </form>